{"title":"Four Parameters Categorical","markdown":{"yaml":{"title":"Four Parameters Categorical","author":"Neelam Arshad","format":"html","execute":{"echo":false,"warning":false}},"containsRefs":false,"markdown":"\n\n\n```{r}\n#| message: false\nlibrary(tidyverse)\nlibrary(primer.data)\nlibrary(tidymodels)\nlibrary(broom)\nlibrary(gt)\nlibrary(marginaleffects)\nlibrary(nnet)\n```\n\n$$\nP(Y = k) = \\frac{e^{\\beta_{k0} + \\beta_{k1} X_1 + \\beta_{k2} X_2 + \\cdots + \\beta_{kn} X_n}}{\\sum_{j=1}^{K} e^{\\beta_{j0} + \\beta_{j1} X_1 + \\beta_{j2} X_2 + \\cdots + \\beta_{jn} X_n}}\n$$\n\nwith \n$$\nY \\sim \\text{Multinomial}(\\boldsymbol{\\rho}) \\quad \\text{where} \\quad \\boldsymbol{\\rho} = (\\rho_1, \\rho_2, \\ldots, \\rho_K)\n$$\n\n$$\n\\begin{aligned}\n\\hat{\\rho}_{\\text{Clinton}} &= \\frac{e^{0.455 - 0.255 \\cdot \\text{male}}}{1 + e^{0.455 - 0.255 \\cdot \\text{male}} + e^{-0.852 + 0.420 \\cdot \\text{male}}} \\\\\\\\\n\\hat{\\rho}_{\\text{Perot}}   &= \\frac{e^{-0.852 + 0.420 \\cdot \\text{male}}}{1 + e^{0.455 - 0.255 \\cdot \\text{male}} + e^{-0.852 + 0.420 \\cdot \\text{male}}} \\\\\\\\\n\\hat{\\rho}_{\\text{Bush}}    &= 1 - \\hat{\\rho}_{\\text{Clinton}} - \\hat{\\rho}_{\\text{Perot}}\n\\end{aligned}\n$$\n\n\n```{r}\n#| cache: true\nnes_92 <- nes |> \n  filter(year == 1992) |> \n  select(sex, pres_vote) |> \n  drop_na() |> \n  mutate(pres_vote = as.factor(case_when(\n    pres_vote == \"Democrat\" ~ \"Clinton\",\n    pres_vote == \"Republican\" ~ \"Bush\",\n    pres_vote == \"Third Party\" ~ \"Perot\",\n  ))) \nfit_nes <- multinom_reg(engine = \"nnet\") |>\n  fit(pres_vote ~ sex, data = nes_92)\n\nplot_predictions(fit_nes, \n                 by = \"sex\", \n                 type = \"prob\", \n                 draw = FALSE) |>\n  ggplot(aes(x = group, y = estimate, color = sex)) +\n  geom_point(size = 3, position = position_dodge(width = 0.5)) +\n  geom_errorbar(aes(ymin = conf.low, ymax = conf.high), \n                width = 0.2, \n                position = position_dodge(width = 0.5)) +\n  labs(\n    title = \"Voting Preferences by Candidate and Sex\",\n    subtitle = \"Women were more likely to vote for Clinton, while men favored Perot more strongly\",\n    caption = \"Source: National Election Studies (NES), 1992\",\n    x = \"Presidential Candidate\",\n    y = \"Estimated Probability\",\n    color = \"Sex\"\n  ) +\n  theme_minimal(base_size = 13) +\n  theme(\n    plot.title = element_text(face = \"bold\", size = 16),\n    plot.subtitle = element_text(size = 12),\n    plot.caption = element_text(size = 10, face = \"italic\"),\n    legend.position = \"top\"\n  )\n```\n\nVoting behavior in the U.S. varies widely based on demographic characteristics such as gender. Using NES data from 1992, we explore whether men and women voted differently in the Presidential election between Clinton, Bush, and Perot. One limitation of our model is that it assumes the survey data is fully representative of the U.S. voting population, which may not hold due to sampling biases or nonresponse. We model presidential vote choice as a multinomial function of sex, estimating the probability to estimate the probability that a respondent voted for Clinton, Bush, or Perot based on their gender. For example, we estimate that 42.5% of male voters supported Clinton, with a 95% confidence interval from 39.1% to 46.0%, while support among female voters was higher at 52.5% (CI: 49.2% to 55.8%).\n\n\n\n```{r}\n#| label: tbl-fit-results\n#| tbl-cap: \"Estimated Coefficients for 1992 NES Voter Model (Source: 1992 NES)\"\n#| echo: false\n#| message: false\n#| warning: false\n\ntidy(fit_nes, conf.int = TRUE) |>\n  select(y.level, term, estimate, conf.low, conf.high) |>\n  mutate(across(where(is.numeric), ~ round(.x, 2))) |>\n  gt() |>\n  tab_header(\n    title = \"Model Estimates for Presidential Vote by Gender\"\n  ) |>\n  cols_label(\n    y.level = \"Outcome\",\n    term = \"Term\",\n    estimate = \"Estimate\",\n    conf.low = \"95% CI Lower\",\n    conf.high = \"95% CI Upper\"\n  )\n```","srcMarkdownNoYaml":"\n\n\n```{r}\n#| message: false\nlibrary(tidyverse)\nlibrary(primer.data)\nlibrary(tidymodels)\nlibrary(broom)\nlibrary(gt)\nlibrary(marginaleffects)\nlibrary(nnet)\n```\n\n$$\nP(Y = k) = \\frac{e^{\\beta_{k0} + \\beta_{k1} X_1 + \\beta_{k2} X_2 + \\cdots + \\beta_{kn} X_n}}{\\sum_{j=1}^{K} e^{\\beta_{j0} + \\beta_{j1} X_1 + \\beta_{j2} X_2 + \\cdots + \\beta_{jn} X_n}}\n$$\n\nwith \n$$\nY \\sim \\text{Multinomial}(\\boldsymbol{\\rho}) \\quad \\text{where} \\quad \\boldsymbol{\\rho} = (\\rho_1, \\rho_2, \\ldots, \\rho_K)\n$$\n\n$$\n\\begin{aligned}\n\\hat{\\rho}_{\\text{Clinton}} &= \\frac{e^{0.455 - 0.255 \\cdot \\text{male}}}{1 + e^{0.455 - 0.255 \\cdot \\text{male}} + e^{-0.852 + 0.420 \\cdot \\text{male}}} \\\\\\\\\n\\hat{\\rho}_{\\text{Perot}}   &= \\frac{e^{-0.852 + 0.420 \\cdot \\text{male}}}{1 + e^{0.455 - 0.255 \\cdot \\text{male}} + e^{-0.852 + 0.420 \\cdot \\text{male}}} \\\\\\\\\n\\hat{\\rho}_{\\text{Bush}}    &= 1 - \\hat{\\rho}_{\\text{Clinton}} - \\hat{\\rho}_{\\text{Perot}}\n\\end{aligned}\n$$\n\n\n```{r}\n#| cache: true\nnes_92 <- nes |> \n  filter(year == 1992) |> \n  select(sex, pres_vote) |> \n  drop_na() |> \n  mutate(pres_vote = as.factor(case_when(\n    pres_vote == \"Democrat\" ~ \"Clinton\",\n    pres_vote == \"Republican\" ~ \"Bush\",\n    pres_vote == \"Third Party\" ~ \"Perot\",\n  ))) \nfit_nes <- multinom_reg(engine = \"nnet\") |>\n  fit(pres_vote ~ sex, data = nes_92)\n\nplot_predictions(fit_nes, \n                 by = \"sex\", \n                 type = \"prob\", \n                 draw = FALSE) |>\n  ggplot(aes(x = group, y = estimate, color = sex)) +\n  geom_point(size = 3, position = position_dodge(width = 0.5)) +\n  geom_errorbar(aes(ymin = conf.low, ymax = conf.high), \n                width = 0.2, \n                position = position_dodge(width = 0.5)) +\n  labs(\n    title = \"Voting Preferences by Candidate and Sex\",\n    subtitle = \"Women were more likely to vote for Clinton, while men favored Perot more strongly\",\n    caption = \"Source: National Election Studies (NES), 1992\",\n    x = \"Presidential Candidate\",\n    y = \"Estimated Probability\",\n    color = \"Sex\"\n  ) +\n  theme_minimal(base_size = 13) +\n  theme(\n    plot.title = element_text(face = \"bold\", size = 16),\n    plot.subtitle = element_text(size = 12),\n    plot.caption = element_text(size = 10, face = \"italic\"),\n    legend.position = \"top\"\n  )\n```\n\nVoting behavior in the U.S. varies widely based on demographic characteristics such as gender. Using NES data from 1992, we explore whether men and women voted differently in the Presidential election between Clinton, Bush, and Perot. One limitation of our model is that it assumes the survey data is fully representative of the U.S. voting population, which may not hold due to sampling biases or nonresponse. We model presidential vote choice as a multinomial function of sex, estimating the probability to estimate the probability that a respondent voted for Clinton, Bush, or Perot based on their gender. For example, we estimate that 42.5% of male voters supported Clinton, with a 95% confidence interval from 39.1% to 46.0%, while support among female voters was higher at 52.5% (CI: 49.2% to 55.8%).\n\n\n\n```{r}\n#| label: tbl-fit-results\n#| tbl-cap: \"Estimated Coefficients for 1992 NES Voter Model (Source: 1992 NES)\"\n#| echo: false\n#| message: false\n#| warning: false\n\ntidy(fit_nes, conf.int = TRUE) |>\n  select(y.level, term, estimate, conf.low, conf.high) |>\n  mutate(across(where(is.numeric), ~ round(.x, 2))) |>\n  gt() |>\n  tab_header(\n    title = \"Model Estimates for Presidential Vote by Gender\"\n  ) |>\n  cols_label(\n    y.level = \"Outcome\",\n    term = \"Term\",\n    estimate = \"Estimate\",\n    conf.low = \"95% CI Lower\",\n    conf.high = \"95% CI Upper\"\n  )\n```"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":false,"output":true,"warning":false,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["styles.css"],"toc":true,"output-file":"index.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.7.32","theme":["cosmo","brand"],"title":"Four Parameters Categorical","author":"Neelam Arshad"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}